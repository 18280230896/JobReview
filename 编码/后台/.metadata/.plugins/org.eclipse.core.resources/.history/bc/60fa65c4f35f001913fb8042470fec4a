//获取并显示学生基本信息
var student;
$.ajax({
	url:"studentGetStudentInfo.action",
	type:"post",
	dataType:"json",
	success:function(result){
		student = result.student;
		//显示学生信息
		$(".studentInfo .form-control-static:eq(0)").text(student.studentName);
		$(".studentInfo .form-control-static:eq(1)").text(student.clas.className);
		if(student.group != null){
			if(student.group.groupNum != null && student.group.groupNum != ""){
				$(".studentInfo .form-control-static:eq(2)").text(student.group.groupNum);
			}else{
				$(".studentInfo .form-control-static:eq(2)").text("无");
			}
			if(student.group.groupName != null && student.group.groupName != ""){
				$(".studentInfo .form-control-static:eq(3)").text(student.group.groupName);
			}else{
				$(".studentInfo .form-control-static:eq(3)").text("无");
			}
			if(student.group.groupSlogan != null && student.group.groupSlogan != ""){
				$(".studentInfo .form-control-static:eq(4)").text(student.group.groupSlogan);
			}else{
				$(".studentInfo .form-control-static:eq(4)").text("无");
			}
			if(student.group.groupNote != null && student.group.groupNote != ""){
				$(".studentInfo .form-control-static:eq(5)").text(student.group.groupNote);
			}else{
				$(".studentInfo .form-control-static:eq(5)").text("无");
			}
		}else{
			$(".studentInfo .form-control-static:eq(2)").text("你还没有被分配到任何小组！");
			$(".studentInfo .form-control-static:eq(3)").text("你还没有被分配到任何小组！");
			$(".studentInfo .form-control-static:eq(4)").text("你还没有被分配到任何小组！");
			$(".studentInfo .form-control-static:eq(5)").text("你还没有被分配到任何小组！");
		}
	}
});

//表格按钮点击事件
$("table").click(function(event){
	if(event.target.nodeName == "BUTTON"){
		var index = $(event.target).parent().parent().index() - 1;
		if($(event.target).text() == "查看详情"){
			$("#studentTaskInfo input").val(classTasks[index].ctId);
			$("#studentTaskInfo button").click();
		}else if($(event.target).text() == "提交用例"){
			$("#case input").val(classTasks[index].ctId);
			$("#case button").click();
		}else if($(event.target).text() == "提交BUG"){
			$("#bug input").val(classTasks[index].ctId);
			$("#bug button").click();
		}
	}
});
